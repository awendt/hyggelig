<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: ArkanisDevelopment::SimpleLocalization::LangFile</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">ArkanisDevelopment::SimpleLocalization::LangFile</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../../files/lib/lang_file_rb.html">
                lib/lang_file.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The <a href="LangFile.html">LangFile</a> class is the interface for the
Simple Localization plugin to work with the language files. This class
takes care of loading a language file and provides a simple way to access
its data using the <a href="NestedHash.html">NestedHash</a> class.
</p>
<h1>What are language files?</h1>
<p>
The Simple Localization plugin uses language files to store the data needed
for a specific language. These files are built using <a
href="http://www.yaml.org/">YAML</a> and are therefore easy to read and
write.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000081">about</a>&nbsp;&nbsp;
      <a href="#M000079">load</a>&nbsp;&nbsp;
      <a href="#M000082">lookup_parts</a>&nbsp;&nbsp;
      <a href="#M000078">new</a>&nbsp;&nbsp;
      <a href="#M000080">reload</a>&nbsp;&nbsp;
      <a href="#M000083">yaml_parts_in_loading_order</a>&nbsp;&nbsp;
      <a href="#M000084">yaml_parts_in_saving_order</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">data</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">lang_code</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">lang_file_dirs</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">ruby_parts</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">yaml_parts</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000078" class="method-detail">
        <a name="M000078"></a>

        <div class="method-heading">
          <a href="#M000078" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(lang_code, lang_file_dirs)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a <a href="LangFile.html#M000078">new</a> <a
href="LangFile.html">LangFile</a> object for the language
<tt>lang_code</tt> which looks for source files in the directories
specified in <tt>lang_file_dirs</tt>.
</p>
<pre>
  LangFile.new :en, 'lang_files'
  LangFile.new :en, ['lang_files', 'plugins/lang_files', 'some_dir/with_even_more_lang_files']
</pre>
<p>
The first example will look for <tt>en*.yml</tt> language files which are
located in the <tt>lang_file</tt> directory.
</p>
<p>
The second example will look for <tt>en*.yml</tt> language files, too.
However not only in the <tt>lang_files</tt> directory but also in the
directories <tt>plugins/lang_files</tt> and
<tt>some_dir/with_even_more_lang_files</tt>. The language files are loaded
in the order the directories are specified. So entries of language files in
the <tt>some_dir/with_even_more_lang_files</tt> directory will overwrite
any previous entries with the same name. Adding <a
href="LangFile.html#M000078">new</a> keys to the language file goes in
reverse order. A <a href="LangFile.html#M000078">new</a> key for
<tt>en.yml</tt> will be added to
<tt>some_dir/with_even_more_lang_files/en.yml</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000078-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000078-source">
<pre>
    <span class="ruby-comment cmt"># File lib/lang_file.rb, line 40</span>
40:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">lang_code</span>, <span class="ruby-identifier">lang_file_dirs</span>)
41:         <span class="ruby-ivar">@lang_code</span>, <span class="ruby-ivar">@lang_file_dirs</span> = <span class="ruby-identifier">lang_code</span>.<span class="ruby-identifier">to_sym</span>, <span class="ruby-constant">Array</span>(<span class="ruby-identifier">lang_file_dirs</span>)
42:         <span class="ruby-ivar">@yaml_parts</span>, <span class="ruby-ivar">@ruby_parts</span> = [], []
43:         <span class="ruby-comment cmt"># Create a new NestedHash but raise an EntryNotFound exception as</span>
44:         <span class="ruby-comment cmt"># default action (if no matching key is found).</span>
45:         <span class="ruby-ivar">@data</span> = <span class="ruby-constant">NestedHash</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">EntryNotFound</span> <span class="ruby-keyword kw">end</span>
46:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000081" class="method-detail">
        <a name="M000081"></a>

        <div class="method-heading">
          <a href="#M000081" class="method-signature">
          <span class="method-name">about</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns a hash with the meta data of this language (language name, author,
date, ect.). Entries not present in the language file will default to
<tt>nil</tt>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000081-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000081-source">
<pre>
     <span class="ruby-comment cmt"># File lib/lang_file.rb, line 91</span>
 91:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">about</span>
 92:         <span class="ruby-identifier">defaults</span> = {
 93:           <span class="ruby-identifier">:language</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
 94:           <span class="ruby-identifier">:author</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
 95:           <span class="ruby-identifier">:comment</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
 96:           <span class="ruby-identifier">:website</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
 97:           <span class="ruby-identifier">:email</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,
 98:           <span class="ruby-identifier">:date</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>
 99:         }
100:         
101:         <span class="ruby-keyword kw">begin</span>
102:           <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">data</span>[<span class="ruby-value str">'about'</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">defaults</span>.<span class="ruby-identifier">update</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">data</span>[<span class="ruby-value str">'about'</span>].<span class="ruby-identifier">symbolize_keys</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">defaults</span>
103:         <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">EntryNotFound</span>
104:           <span class="ruby-identifier">defaults</span>
105:         <span class="ruby-keyword kw">end</span>
106:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000079" class="method-detail">
        <a name="M000079"></a>

        <div class="method-heading">
          <a href="#M000079" class="method-signature">
          <span class="method-name">load</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
This method loads the base YAML language file (eg. <tt>de.yml</tt>) and all
other language file parts (eg. <tt>de.app.about.yml</tt>) extending the
language. These parts are sorted after their length (specifity), the
shortes first, and then inserted into the language data. At the end the
ruby file belonging to the language is loaded (eg. <tt>de.rb</tt>).
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000079-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000079-source">
<pre>
    <span class="ruby-comment cmt"># File lib/lang_file.rb, line 54</span>
54:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">load</span>
55:         <span class="ruby-ivar">@yaml_parts</span>, <span class="ruby-ivar">@ruby_parts</span> = <span class="ruby-identifier">lookup_parts</span>
56:         <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">clear</span>
57:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">yaml_parts_in_loading_order</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">yaml_part</span><span class="ruby-operator">|</span>
58:           <span class="ruby-identifier">yaml_data</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load_file</span>(<span class="ruby-identifier">yaml_part</span>)
59:           <span class="ruby-identifier">part_sections</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">yaml_part</span>, <span class="ruby-value str">'.yml'</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>)
60:           <span class="ruby-identifier">part_sections</span>.<span class="ruby-identifier">delete_at</span> <span class="ruby-value">0</span> <span class="ruby-comment cmt"># delete the 'en' at the beginning</span>
61:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">part_sections</span>.<span class="ruby-identifier">empty?</span>
62:             <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">yaml_data</span>
63:           <span class="ruby-keyword kw">else</span>
64:             <span class="ruby-keyword kw">begin</span>
65:               <span class="ruby-identifier">target_section</span> = <span class="ruby-ivar">@data</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">part_sections</span>]
66:               <span class="ruby-identifier">raise</span> <span class="ruby-constant">EntryNotFound</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">target_section</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-identifier">:merge!</span>
67:               <span class="ruby-identifier">target_section</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-identifier">yaml_data</span>
68:             <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">EntryNotFound</span>
69:               <span class="ruby-ivar">@data</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">part_sections</span>] = <span class="ruby-identifier">yaml_data</span>
70:             <span class="ruby-keyword kw">end</span>
71:           <span class="ruby-keyword kw">end</span>
72:         <span class="ruby-keyword kw">end</span>
73:         
74:         <span class="ruby-ivar">@ruby_parts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ruby_part</span><span class="ruby-operator">|</span>
75:           <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">ruby_part</span>
76:         <span class="ruby-keyword kw">end</span>
77:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000080" class="method-detail">
        <a name="M000080"></a>

        <div class="method-heading">
          <a href="#M000080" class="method-signature">
          <span class="method-name">reload</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reloads the data from the language file and merges it with the existing
data in the memory. In case of a conflict the <a
href="LangFile.html#M000078">new</a> entries from the language file
overwrite the entries in the memory.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000080-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000080-source">
<pre>
    <span class="ruby-comment cmt"># File lib/lang_file.rb, line 82</span>
82:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reload</span>
83:         <span class="ruby-identifier">old_data</span> = <span class="ruby-ivar">@data</span>.<span class="ruby-identifier">dup</span>
84:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">load</span>
85:         <span class="ruby-ivar">@data</span> = <span class="ruby-identifier">old_data</span>.<span class="ruby-identifier">merge!</span> <span class="ruby-ivar">@data</span>
86:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Protected Instance methods</h3>

      <div id="method-M000082" class="method-detail">
        <a name="M000082"></a>

        <div class="method-heading">
          <a href="#M000082" class="method-signature">
          <span class="method-name">lookup_parts</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Just searches for the YAML and Ruby parts. The YAML parts are NOT correctly
sorted by this method. The Ruby parts are in proper order.
</p>
<p>
To sort the YAML parts please use the <a
href="LangFile.html#M000083">yaml_parts_in_loading_order</a> or <a
href="LangFile.html#M000084">yaml_parts_in_saving_order</a> methods.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000082-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000082-source">
<pre>
     <span class="ruby-comment cmt"># File lib/lang_file.rb, line 115</span>
115:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lookup_parts</span>
116:         <span class="ruby-ivar">@yaml_parts</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>
117:         <span class="ruby-ivar">@ruby_parts</span> = []
118:         
119:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">lang_file_dirs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lang_file_dir</span><span class="ruby-operator">|</span>
120:           <span class="ruby-identifier">yaml_parts_in_this_dir</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">lang_file_dir</span>, <span class="ruby-node">&quot;#{self.lang_code}*.yml&quot;</span>)).<span class="ruby-identifier">sort</span>
121:           <span class="ruby-ivar">@yaml_parts</span>[<span class="ruby-identifier">lang_file_dir</span>] = <span class="ruby-identifier">yaml_parts_in_this_dir</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">part</span>)}
122:           <span class="ruby-identifier">ruby_part_in_this_dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">lang_file_dir</span>, <span class="ruby-node">&quot;#{self.lang_code}.rb&quot;</span>)
123:           <span class="ruby-ivar">@ruby_parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ruby_part_in_this_dir</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">ruby_part_in_this_dir</span>)
124:         <span class="ruby-keyword kw">end</span>
125:         
126:         [<span class="ruby-ivar">@yaml_parts</span>, <span class="ruby-ivar">@ruby_parts</span>]
127:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000083" class="method-detail">
        <a name="M000083"></a>

        <div class="method-heading">
          <a href="#M000083" class="method-signature">
          <span class="method-name">yaml_parts_in_loading_order</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sorts the specified YAML parts in proper loading order. That means first by
directories and then by the specificity of the parts. Specificity is the
number of section names contained in the file name of the part. More
section names results in a higher specificity.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000083-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000083-source">
<pre>
     <span class="ruby-comment cmt"># File lib/lang_file.rb, line 133</span>
133:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">yaml_parts_in_loading_order</span>
134:         <span class="ruby-identifier">ordered_yaml_parts</span> = []
135:         <span class="ruby-ivar">@yaml_parts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lang_file_dir</span>, <span class="ruby-identifier">parts_in_this_dir</span><span class="ruby-operator">|</span>
136:           <span class="ruby-identifier">parts_in_this_dir</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">part</span>, <span class="ruby-value str">'.yml'</span>).<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>).<span class="ruby-identifier">size</span>}.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
137:             <span class="ruby-identifier">ordered_yaml_parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">lang_file_dir</span>, <span class="ruby-identifier">part</span>)
138:           <span class="ruby-keyword kw">end</span>
139:         <span class="ruby-keyword kw">end</span>
140:         <span class="ruby-identifier">ordered_yaml_parts</span>
141:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000084" class="method-detail">
        <a name="M000084"></a>

        <div class="method-heading">
          <a href="#M000084" class="method-signature">
          <span class="method-name">yaml_parts_in_saving_order</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sorts the YAML parts in proper write order. That means they are orderd
first by their specificity and then by the language file directory
priority.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000084-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000084-source">
<pre>
     <span class="ruby-comment cmt"># File lib/lang_file.rb, line 146</span>
146:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">yaml_parts_in_saving_order</span>
147:         <span class="ruby-identifier">lang_file_dirs_by_parts</span> = <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">OrderedHash</span>.<span class="ruby-identifier">new</span>
148:         <span class="ruby-ivar">@yaml_parts</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lang_file_dir</span>, <span class="ruby-identifier">parts_in_this_dir</span><span class="ruby-operator">|</span>
149:           <span class="ruby-identifier">parts_in_this_dir</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
150:             <span class="ruby-identifier">lang_file_dirs_by_parts</span>[<span class="ruby-identifier">part</span>] = (<span class="ruby-identifier">lang_file_dirs_by_parts</span>[<span class="ruby-identifier">part</span>] <span class="ruby-operator">||</span> []) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">lang_file_dir</span>
151:           <span class="ruby-keyword kw">end</span>
152:         <span class="ruby-keyword kw">end</span>
153:         
154:         <span class="ruby-identifier">ordered_yaml_parts</span> = []
155:         <span class="ruby-identifier">lang_file_dirs_by_parts</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">sort_by</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>).<span class="ruby-identifier">size</span>}.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
156:           <span class="ruby-identifier">lang_file_dirs_by_parts</span>[<span class="ruby-identifier">part</span>].<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">lang_file_dir</span><span class="ruby-operator">|</span>
157:             <span class="ruby-identifier">ordered_yaml_parts</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">lang_file_dir</span>, <span class="ruby-identifier">part</span>)
158:           <span class="ruby-keyword kw">end</span>
159:         <span class="ruby-keyword kw">end</span>
160:         
161:         <span class="ruby-identifier">ordered_yaml_parts</span>
162:       <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>